import camion.*
import cosas.*

describe "Prueba de objetos"{
    
    test "Un knight rider pesa 500kg y tiene peligrosidad 10" {
        assert.equals(500, knightRider.peso())
        assert.equals(10, knightRider.nivelPeligrosidad())
    }
    test "Un paquete con 100kg de arena pesa 100kg y tiene peligrosidad 1"{
        const ag = new ArenaAGranel(cantidad = 100)
        assert.equals(100, ag.peso())
        assert.equals(1, ag.nivelPeligrosidad())
    }
    test "Un bumblebee que es auto pesa 800 y tiene peligrosidad 15" {
        const bb = new Bumblebee(esAuto = true)
        assert.equals(800, bb.peso())
        assert.equals(15, bb.nivelPeligrosidad())
    }
    test "Un bumblebee que es robot pesa 800 y tiene peligrosidad 30" {
        const bb = new Bumblebee(esAuto = false)
        assert.equals(800, bb.peso())
        assert.equals(30, bb.nivelPeligrosidad())
    }
    test "Un paquete de 100 ladrillos pesa 200kg y tiene peligrosidad 2" {
        const pl = new PaqueteDeLadrillos(cantidad = 100)
        assert.equals(200, pl.peso())
        assert.equals(2, pl.nivelPeligrosidad())
    }
    test "Una bateria antiaerea con misiles pesa 300 y tiene peligrosidad 100" {
        const ba = new BateriaAntiaerea(tieneMisiles = true)
        assert.equals(300, ba.peso())
        assert.equals(100, ba.nivelPeligrosidad())
    }
    test "Una bateria antiaerea sin misiles pesa 200 y tiene peligrosidad 0" {
        const ba = new BateriaAntiaerea(tieneMisiles = false)
        assert.equals(200, ba.peso())
        assert.equals(0, ba.nivelPeligrosidad())
    }
    test "Un paquete de 100kg de residuos radiactivos pesa 100kg y tiene peligrosidad 200" {
        const rr = new ResiduosRadiactivos(cantidad = 100)
        assert.equals(100, rr.peso())
        assert.equals(200, rr.nivelPeligrosiadad())
    }
}
describe "Carga en camion"{
   
    test "Si no cargo nada el camion esta vacio" {
        assert.equals(#{}, camion.todaLaCarga())
        assert.equals(true, camion.estaVacio())
    }
    test "Cargar varias cosas"{
        const bumblebee = new Bumblebee(esAuto = true)
        camion.cargar(knightRider)
        assert.equals(#{knightRider}, camion.todaLaCarga())//Solo tiene al knightRider
        camion.cargar(bumblebee)
        assert.equals(#{knightRider, bumblebee}, camion.todaLaCarga())//Tiene al knightRider y bumblebee
        camion.descargar(bumblebee)
        assert.equals(#{knightRider}, camion.todaLaCarga())//Solo tiene al knightRider de nuevo
        camion.cargar(knightRider)
        camion.descargar(bumblebee)
    }
    test "Un bumblebee y 50kg de arena tienen peso par"{
        const bumblebee = new Bumblebee(esAuto = true)
        const arena50kg = new ArenaAGranel(cantidad = 50)
        camion.cargar(bumblebee)
        camion.cargar(arena50kg)
        assert.equals(true, camion.totalPesoPar())
    }
    test "55 kg de arena NO tiene peso par"{
        const arena55kg = new ArenaAGranel(cantidad =55)
        camion.cargar(arena55kg)
        assert.equals(false, camion.totalPesoPar())
    }
    test "Hay carga con peso X"{
        const bumblebee = new Bumblebee(esAuto = true)
        camion.cargar(bumblebee)
        assert.equals(true, camion.hayCargaConPesoX(800))
    }
    test "Hay carga con peso X (varios elementos)"{
        const bumblebee = new Bumblebee(esAuto = true)
        const arena50kg = new ArenaAGranel(cantidad = 50)
        camion.cargar(bumblebee)
        camion.cargar(arena50kg)
        assert.equals(true, camion.hayCargaConPesoX(50))
        assert.equals(true, camion.hayCargaConPesoX(800))
        assert.equals(false, camion.hayCargaConPesoX(500))
    }
}
describe "Peso en el camion" {
    test "Con un paquete de 300 ladrillos y un bumblebee el camion no esta lleno"{
        const pl = new PaqueteDeLadrillos(cantidad = 300)
        const bumblebee = new Bumblebee(esAuto = true)
        camion.cargar(pl)
        camion.cargar(bumblebee)
        assert.equals(2400, camion.pesoTotal())
        assert.equals(false, camion.camionLleno())
    }
    test "Con un paquete de 400 ladrillos y un bumblebee el camion esta lleno"{
        const pl = new PaqueteDeLadrillos(cantidad = 400)
        const bumblebee = new Bumblebee(esAuto = true)
        camion.cargar(pl)
        camion.cargar(bumblebee)
        assert.equals(2600, camion.pesoTotal())
        assert.equals(true, camion.camionLleno())
    }

}